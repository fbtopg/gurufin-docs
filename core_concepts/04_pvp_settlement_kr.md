# Payment-vs-Payment (PvP) 정산

## 개요

Payment-vs-Payment (PvP) 정산은 서로 다른 통화의 지불을 동시에 교환하여 정산 위험을 제거하는 국경 간 금융의 중요한 메커니즘입니다. 글로벌 온체인 FX 및 DeFi 허브인 Gurufin Chain은 원자적 PvP 정산을 구현하여 주권 스테이블코인의 안전하고 효율적이며 신뢰할 수 있는 크로스체인 전송을 가능하게 합니다. 이 접근 방식은 한 당사자가 지불하지만 대가를 받지 못하는 위험인 원금 위험과 중개 시스템과 관련된 브리지 위험을 제거합니다.

Inter-Blockchain Communication(IBC) 프로토콜과 통합된 에스크로 기반 메커니즘을 활용하여 Gurufin은 크로스체인 정산에서 원자성을 달성합니다. 이것은 통화 교환의 양쪽 다리가 모두 성공적으로 완료되거나 둘 다 완료되지 않도록 보장하여 국경 간 결제 및 FX 거래의 무결성을 보존합니다.

***

## Gurufin Chain의 원자적 크로스체인 정산

### 원금 및 브리지 위험 제거

전통적인 국경 간 결제 시스템은 종종 한 당사자가 해당 지불을 받지 않고 자금을 전달할 수 있는 원금 위험에 참여자를 노출시킵니다. 또한 블록체인 간의 중개자 또는 브리지가 실패하거나 악의적으로 행동할 때 손실이나 지연을 초래하는 브리지 위험이 발생합니다.

Gurufin Chain은 다음을 통해 이러한 과제를 해결합니다:

* **원자성:** 두 체인의 지불 지시가 단일 불가분 작업으로 실행되도록 보장합니다.
* **에스크로 기반 잠금:** 두 지불 다리가 모두 확인될 때까지 에스크로 스마트 계약에 자금을 일시적으로 보유합니다.
* **IBC 통합:** Inter-Blockchain Communication 프로토콜을 활용하여 체인 간에 메시지 및 증명을 안전하게 전달합니다.

이 설계는 자금이 동시에 교환되거나 발신자에게 반환되도록 보장하여 불완전한 정산에 대한 노출을 제거합니다.

### 에스크로 기반 메커니즘

Gurufin의 PvP 정산의 핵심은 각 참여 체인에 배포된 에스크로 스마트 계약입니다. 프로세스는 다음과 같이 진행됩니다:

1. **시작:** 발신자는 소스 체인의 에스크로 계약에 지불 금액을 잠급니다.
2. **IBC 메시지 전달:** 에스크로 잠금 증명은 IBC를 통해 상대방 체인으로 전송됩니다.
3. **상대방 지불 잠금:** 확인 시 상대방은 자신의 체인의 에스크로에 해당 금액을 잠급니다.
4. **최종화:** 두 에스크로가 모두 확인되면 계약은 각 수신자에게 동시에 자금을 해제합니다.
5. **시간 초과 및 환불:** 어느 한 당사자가 미리 정의된 시간 초과 내에 자금을 잠그지 못하면 에스크로 계약은 원래 발신자에게 잠긴 금액을 환불합니다.

이 메커니즘은 어느 당사자도 상대방 지불이 확보되지 않고 일방적으로 자금을 인출할 수 없도록 보장하여 원자적 정산을 시행합니다.

***

## PvP 정산 워크플로

### PvP 정산 흐름 다이어그램

<figure><img src="../.gitbook/assets/pvp_settlement.png" alt=""><figcaption></figcaption></figure>

| 단계 | 작업 | 설명 |
| ---- | ---------------------------------- | --------------------------------------------------------------------------------------------- |
| 1 | 소스 체인에서 지불 잠금 | 발신자는 소스 체인의 에스크로 스마트 계약에 자금을 입금합니다. |
| 2 | IBC를 통해 잠금 증명 전달 | 에스크로 잠금 이벤트는 IBC를 통해 상대방 체인으로 패키징되어 전송됩니다. |
| 3 | 목적지에서 상대방 지불 잠금 | 상대방은 증명을 확인하고 목적지 체인의 에스크로에 해당 자금을 잠급니다. |
| 4 | 두 잠금 모두 확인 | 두 체인 모두 에스크로 잠금이 제자리에 있음을 확인합니다. |
| 5 | 자금 해제 | 에스크로 계약은 수신자에게 동시에 자금을 해제하여 PvP 정산을 완료합니다. |
| 6 | 시간 초과 및 환불 | 상대방이 시간 초과 내에 자금을 잠그지 못하면 에스크로가 원래 발신자를 환불합니다. |

***

## Gurufin PvP 정산의 이점

| 이점 | 설명 |
| --------------------------- | ---------------------------------------------------------------------------------------------------- |
| **원자성** | 두 지불 다리의 동시 정산을 보장하여 원금 위험을 제거합니다. |
| **브리지 위험 제거** | 신뢰할 수 없는 에스크로 및 IBC 검증을 사용하여 중개자 또는 브리지에 대한 의존성을 제거합니다. |
| **규제 준수** | 에스크로 및 발행/소각 작업 전반에 걸쳐 내장된 KYC/AML 및 여행 규칙 메타데이터 지원. |
| **고성능** | 1초 미만의 최종성 및 5자리 TPS 처리량으로 확장 가능한 실시간 국경 간 결제를 가능하게 합니다. |
| **상호 운용성** | IBC 우선 설계는 주권 스테이블코인 및 외부 체인과의 원활한 통합을 지원합니다. |
| **수수료 예측 가능성** | Guru-PEG 메커니즘은 정산 작업에 대한 안정적이고 저렴한 수수료를 보장합니다. |

***

## 요약

Gurufin Chain의 Payment-vs-Payment (PvP) 정산 메커니즘은 국경 간 FX 및 스테이블코인 결제에서 중요한 발전을 나타냅니다. 에스크로 기반 원자적 정산 프로토콜을 강력한 IBC 통합과 결합함으로써 전통적인 시스템에 내재된 원금 및 브리지 위험을 제거합니다. Gurufin Chain과 GX 주권 스테이블코인 체인 간의 시너지는 규제 준수, 투명성 및 유동성을 보장하여 Gurufin을 Web3 경제를 위한 중립적이고 신뢰할 수 있는 정산 허브로 만듭니다.

