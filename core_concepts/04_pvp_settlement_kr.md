# Payment-vs-Payment (PvP) 정산

## 개요

Payment-vs-Payment (PvP) 정산은 서로 다른 통화의 지불을 동시에 교환하여 정산 위험을 제거하는 국경 간 금융의 중요한 메커니즘입니다. 글로벌 온체인 FX 및 DeFi 허브인 Gurufin Chain은 원자적 PvP 정산을 구현하여 주권 스테이블코인의 안전하고 효율적이며 신뢰할 수 있는 크로스체인 전송을 가능하게 합니다. 이 접근 방식은 한 당사자가 지불하지만 대가를 받지 못하는 위험인 원금 위험과 중개 시스템과 관련된 브리지 위험을 제거합니다.

Inter-Blockchain Communication(IBC) 프로토콜과 통합된 에스크로 기반 메커니즘을 활용하여 Gurufin은 크로스체인 정산에서 원자성을 달성합니다. 이것은 통화 교환의 양쪽 다리가 모두 성공적으로 완료되거나 둘 다 완료되지 않도록 보장하여 국경 간 결제 및 FX 거래의 무결성을 보존합니다.

***

## Gurufin Chain의 원자적 크로스체인 정산

### 원금 및 브리지 위험 제거

전통적인 국경 간 결제 시스템은 종종 한 당사자가 해당 지불을 받지 않고 자금을 전달할 수 있는 원금 위험에 참여자를 노출시킵니다. 또한 블록체인 간의 중개자 또는 브리지가 실패하거나 악의적으로 행동할 때 손실이나 지연을 초래하는 브리지 위험이 발생합니다.

Gurufin Chain은 다음을 통해 이러한 과제를 해결합니다:

* **원자성:** 두 체인의 지불 지시가 단일 불가분 작업으로 실행되도록 보장합니다.
* **에스크로 기반 잠금:** 두 지불 다리가 모두 확인될 때까지 에스크로 스마트 계약에 자금을 일시적으로 보유합니다.
* **IBC 통합:** Inter-Blockchain Communication 프로토콜을 활용하여 체인 간에 메시지 및 증명을 안전하게 전달합니다.

이 설계는 자금이 동시에 교환되거나 발신자에게 반환되도록 보장하여 불완전한 정산에 대한 노출을 제거합니다.

### 에스크로 기반 메커니즘

Gurufin의 PvP 정산의 핵심은 각 참여 체인에 배포된 에스크로 스마트 계약입니다. 프로세스는 다음과 같이 진행됩니다:

1. **시작:** 발신자는 소스 체인의 에스크로 계약에 지불 금액을 잠급니다.
2. **IBC 메시지 전달:** 에스크로 잠금 증명은 IBC를 통해 상대방 체인으로 전송됩니다.
3. **상대방 지불 잠금:** 확인 시 상대방은 자신의 체인의 에스크로에 해당 금액을 잠급니다.
4. **최종화:** 두 에스크로가 모두 확인되면 계약은 각 수신자에게 동시에 자금을 해제합니다.
5. **시간 초과 및 환불:** 어느 한 당사자가 미리 정의된 시간 초과 내에 자금을 잠그지 못하면 에스크로 계약은 원래 발신자에게 잠긴 금액을 환불합니다.

이 메커니즘은 어느 당사자도 상대방 지불이 확보되지 않고 일방적으로 자금을 인출할 수 없도록 보장하여 원자적 정산을 시행합니다.

### IBC 통합

Gurufin Chain의 아키텍처는 **IBC 우선 상호 운용성 모델**을 기반으로 구축되어 주권 스테이블코인 체인과 외부 블록체인 간의 원활한 통신과 트랜잭션 최종성을 가능하게 합니다. IBC는 다음을 촉진합니다:

* **안전한 패킷 전송:** 암호화 보증과 함께 에스크로 잠금 증명 및 정산 확인을 전송합니다.
* **결정론적 최종성:** Tendermint BFT 합의를 활용하여 1초 미만의 최종성을 제공하고 적시 정산을 보장합니다.
* **크로스체인 검증:** 중개자에 대한 신뢰 가정 없이 원격 체인의 에스크로 상태를 검증합니다.

IBC 통합은 체인 간 에스크로 상태를 동기화하는 통신 계층을 제공하므로 원자적 PvP 정산을 달성하는 데 기본입니다.

***

## PvP 정산 워크플로

### PvP 정산 흐름 다이어그램

<figure><img src="../.gitbook/assets/pvp_settlement.png" alt=""><figcaption></figcaption></figure>

| 단계 | 작업 | 설명 |
| ---- | ---------------------------------- | --------------------------------------------------------------------------------------------- |
| 1 | 소스 체인에서 지불 잠금 | 발신자는 소스 체인의 에스크로 스마트 계약에 자금을 입금합니다. |
| 2 | IBC를 통해 잠금 증명 전달 | 에스크로 잠금 이벤트는 IBC를 통해 상대방 체인으로 패키징되어 전송됩니다. |
| 3 | 목적지에서 상대방 지불 잠금 | 상대방은 증명을 확인하고 목적지 체인의 에스크로에 해당 자금을 잠급니다. |
| 4 | 두 잠금 모두 확인 | 두 체인 모두 에스크로 잠금이 제자리에 있음을 확인합니다. |
| 5 | 자금 해제 | 에스크로 계약은 수신자에게 동시에 자금을 해제하여 PvP 정산을 완료합니다. |
| 6 | 시간 초과 및 환불 | 상대방이 시간 초과 내에 자금을 잠그지 못하면 에스크로가 원래 발신자를 환불합니다. |

***

## 기술 아키텍처

### 에스크로 계약 설계

Gurufin Chain 및 GX Stablecoin 체인의 에스크로 계약은 다음 기능으로 설계되었습니다:

* **결정론적 최종성:** Tendermint BFT 합의를 사용하면 트랜잭션이 커밋되면 되돌릴 수 없습니다.
* **시간 초과 매개변수:** 구성 가능한 시간 창은 자금의 무기한 잠금을 방지합니다.
* **다자 승인:** GX 스테이블코인의 발행/소각 작업에 대한 정족수 기반 승인을 지원합니다.
* **규정 준수 통합:** 규제 준수를 위한 내장된 KYC/AML 확인 및 여행 규칙 메타데이터 지원.

### IBC 프로토콜 역할

IBC는 크로스체인 통신의 백본 역할을 하여 다음을 가능하게 합니다:

* **패킷 중계:** 에스크로 잠금 및 잠금 해제 메시지의 안전한 전송.
* **상태 검증:** 라이트 클라이언트 증명을 통해 각 체인이 다른 체인의 에스크로 상태를 확인할 수 있습니다.
* **오류 처리:** 통신 실패 또는 시간 초과 시 트리거되는 자동 롤백 및 환불 메커니즘.

### GX Stablecoin Chains와의 통합

Gurufin Chain은 관할권별 주권 스테이블코인 체인의 GX 네트워크와 상호 운용됩니다. 각 GX 체인은 라이선스된 검증자와 함께 Proof-of-Authority 합의 하에 작동하여 규제 준수 및 준비금 지원 투명성을 보장합니다.

PvP 정산 메커니즘은 다음을 활용합니다:

* **자동 발행/소각:** 성공적인 에스크로 정산 시 스테이블코인이 국경 간 전송을 반영하기 위해 원자적으로 발행되거나 소각됩니다.
* **IBC 호환성:** GX 체인은 기본적으로 IBC를 지원하여 원활한 에스크로 상태 동기화를 가능하게 합니다.
* **준비금 투명성:** 24시간 연중무휴 실시간 준비금 증명은 PvP 정산에 관련된 모든 스테이블코인이 완전히 지원됨을 보장합니다.

***

## Gurufin PvP 정산의 이점

| 이점 | 설명 |
| --------------------------- | ---------------------------------------------------------------------------------------------------- |
| **원자성** | 두 지불 다리의 동시 정산을 보장하여 원금 위험을 제거합니다. |
| **브리지 위험 제거** | 신뢰할 수 없는 에스크로 및 IBC 검증을 사용하여 중개자 또는 브리지에 대한 의존성을 제거합니다. |
| **규제 준수** | 에스크로 및 발행/소각 작업 전반에 걸쳐 내장된 KYC/AML 및 여행 규칙 메타데이터 지원. |
| **고성능** | 1초 미만의 최종성 및 최대 10,000 TPS 처리량으로 확장 가능한 실시간 국경 간 결제를 가능하게 합니다. |
| **상호 운용성** | IBC 우선 설계는 주권 스테이블코인 및 외부 체인과의 원활한 통합을 지원합니다. |
| **수수료 예측 가능성** | Guru-PEG 메커니즘은 정산 작업에 대한 안정적이고 저렴한 수수료를 보장합니다. |

***

## 요약

Gurufin Chain의 Payment-vs-Payment (PvP) 정산 메커니즘은 국경 간 FX 및 스테이블코인 결제에서 중요한 발전을 나타냅니다. 에스크로 기반 원자적 정산 프로토콜을 강력한 IBC 통합과 결합함으로써 전통적인 시스템에 내재된 원금 및 브리지 위험을 제거합니다. Gurufin Chain과 GX 주권 스테이블코인 체인 간의 시너지는 규제 준수, 투명성 및 유동성을 보장하여 Gurufin을 Web3 경제를 위한 중립적이고 신뢰할 수 있는 정산 허브로 만듭니다.

***

## 참고 문헌

| 문서 | 설명 |
| ---------------------------- | ------------------------------------------------- |
| Gurufin Chain Documentation  | 기술 스택, 합의, 상호 운용성 |
| GX Stablecoin Chain Overview | 주권 스테이블코인 인프라 및 발행/소각 |
| FXSwap Architecture          | 하이브리드 유동성 풀 및 오라클 통합 |
| IBC Protocol Specification   | Inter-Blockchain Communication 기초 |

***

_Gurufin Chain에서 PvP 정산을 구현하거나 통합하는 데 관심이 있는 개발자 및 기관은_ [_개발자 리소스_](../developer-resources.md) _및_ [_IBC 통합 가이드_](../ibc-integration.md)_를 참조하시기 바랍니다._
